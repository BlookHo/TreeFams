#tree_canvas

#scale_slider

%script{ :type => 'text/javascript', :defer => 'defer' }
  :plain
    var kinetic = {
      container: 'tree_canvas',
      width: 1000,
      height: 1000,
      scale: 50,
      ajax: false,
      draggable: true
    };

    var tree = {
      json: '#{@profiles_json}',
      ydeviation: 0,
      xdeviation: 0
    };

    var constructTree = new reTree(tree, kinetic);

    $('#scale_slider').slider({
      orientation: 'vertical',
      range: 'center',
      min: 0.5,
      max: 1.5,
      step: 0.01,
      value: 1,
      slide:
        function(event, ui) {
          constructTree.scale(ui.value);
        }
    });